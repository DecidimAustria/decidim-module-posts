<% if current_user.present? %>
  <%= render partial: "decidim/posts/posts/form.html" %>

  <dialog id="confirmationModal" class="p-4 shadow-md rounded-md ring-1 ring-feeds-host" aria-labelledby="confirmationModal__Label" aria-modal="true">
    <div class="flex flex-col gap-4">
      <h2 id="confirmationModal__Label" class="text-center text-lg font-bold">Meldungsstatus ändern</h2>
      <p class="confirmationModal__response" aria-live="assertive">Das Status der Meldung wird geändert und die Kommentarfunktion geschlossen.</p>
      <div class="confirmationModal__buttons flex p-4 gap-4 justify-center">
        <button id="confirmationModal__confirmButton" class="button button__sm button__transparent-primary">
          <%= t('decidim.posts.posts.host.status.confirm') %>
          <%= icon('check-line') %>
        </button>
        <button id="confirmationModal__cancelButton" class="button button__sm button__transparent-primary">
          <%= t('decidim.posts.posts.host.status.cancel') %>
          <%= icon('close-line') %>
        </button>
      </div>
    </div>
  </dialog>

  <script>
    window.translations = {
      newSurvey: {
        questionTitle       : "<%= t('decidim.components.posts.newFeed.newSurvey.questionTitle') %>",
        answerType          : "<%= t('decidim.components.posts.newFeed.newSurvey.answerType') %>",
        multipleChoice      : "<%= t('decidim.components.posts.newFeed.newSurvey.multipleChoice') %>",
        singleChoice        : "<%= t('decidim.components.posts.newFeed.newSurvey.singleChoice') %>",
        newAnswer           : "<%= t('decidim.components.posts.newFeed.newSurvey.newAnswer') %>",
        newQuestionResponse : "<%= t('decidim.components.posts.newFeed.newSurvey.newQuestionResponse') %>",
        newAnswerResponse   : "<%= t('decidim.components.posts.newFeed.newSurvey.newAnswerResponse') %>",
      },
      dialog: {
        dialogBodyMsg       : '<%= t('decidim.posts.posts.host.status.dialogBodyMsg') %>',
        dialogBodyResponse  : '<%= t('decidim.posts.posts.host.status.dialogBodyResponse') %>',
      }
    };
  </script>
<% end %>

<%= append_javascript_pack_tag "decidim_feeds" %>
